@use '../base/vars' as *;

.wp-block-navigation {
	&__responsive-dialog {
		@media(max-width:$screen-lg) {
			max-height: 100%;
			position: fixed;
			width: 100%;
			top: 0;
			overflow: scroll;
		}
	}

	&__responsive-container {

		&-open,
		&-close {
			@media(max-width:$screen-lg) {
				position: fixed;
				bottom: 1rem;
				right: 1rem;
				top: auto;
				background-color: $primary-06;
				padding: .8rem;
				border-radius: 1rem;
				color: $white;
				height: auto;
				z-index: 999;

				svg {
					width: 32px;
					height: 32px;
				}

				&:hover {
					background-color: $primary-09;

					* {
						color: inherit;
						background-color: inherit;
					}
				}
			}

		}

		&-content {
			@media(min-width:$screen-lg) {
				li {
					&.has-child {
						.wp-block-navigation__submenu-container {
							border-radius: 10px;
							overflow: hidden !important;
						}
					}
				}
			}

			@media(max-width:$screen-lg) {
				text-align: center;
				padding-bottom: 2rem;

				ul {

					width: 100%;

				}

				li {
					width: 100%;

					.wp-block-navigation-item__content {
						width: 100%;
						text-align: left;
						padding: .7rem 1.3rem !important;
						font-size: 1.2rem;

						@media(min-width:$screen-lg) {
							font-size: 1rem;
						}
					}

					&.has-child {
						.wp-block-navigation__submenu-container {
							width: 100% !important;
							padding-top: 1rem !important;

							li.wp-block-navigation-item {
								border-left: 2px solid $primary-06;
							}
						}
					}

				}

				>div[class*="wp-block-"] {
					justify-content: center;
					width: 100%;

					a {
						padding-top: .7rem;
						padding-bottom: .7rem;
					}
				}
			}
		}
	}
}


// Responsive styles for the navigation block
@media (max-width: $screen-lg) {

	// Força el menú a comportar-se com a "overlay" (estil mòbil)
	.wp-block-navigation {
		--navigation-layout: overlay;
		row-gap: 0;

		&__responsive-container {
			display: none !important;

			&.is-menu-open {
				display: flex !important;
				flex-direction: column;
			}

			&-open {
				display: block !important;
			}
		}
		&-item{
			&_content {
		
			}
		}
	}
}

// A desktop, amaga el botó de menú
@media (min-width: ($screen-lg + 1)) {
	.wp-block-navigation__responsive-container-open {
		display: none !important;
	}

	// Mostra el menú directament, com a menú horitzontal
	.wp-block-navigation__responsive-container {
		display: flex !important;
		flex-direction: row;
	}
}